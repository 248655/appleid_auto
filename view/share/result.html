<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>账号分享</title>
</head>
<body>
<script>
    var clipboard = new ClipboardJS('.btn');

    function alert_success() {
        Swal.fire({
            icon: 'success',
            title: '提示',
            text: '复制成功',
            timer: 1000,
            timerProgressBar: true
        });
    }
</script>
<div class="container">
<div class="row row-deck">
    {volist name="accounts" id="account"}
        <div class="col-xs-4 col-md-4">
            <div class='card border border-3 border-info shadow-lg' style='margin-top: 1rem;'>
                <div class='card-body'>
                    <h5 class='card-title'>账号信息</h5>
                    <h6 class='card-text'>{$account->username}</h6>
                    {if $account->remark!=""}
                        <p class='card-subtitle mb-2 text-muted'>备注：{$account->remark}</p>
                    {/if}
                    <p class='card-subtitle mb-2 text-muted'>上次检测时间：{$account->last_check}</p>
                    {$status = $account->message == "正常" && ((time() - strtotime($account->last_check)) < (($account->check_interval + 2) * 60))}
                    <p class='card-subtitle mb-2 text-muted'>状态：{$status?"正常":"异常"}</p>
                    <button id='username_$account->id' class='btn btn-primary'
                            data-clipboard-text='{$account->username}'
                            onclick='alert_success()'>复制账号
                    </button>
                    <button id='password_$account->id' class='btn btn-success'
                            data-clipboard-text='{$account->password}'
                            onclick='alert_success()'>复制密码
                    </button>
                </div>
            </div>
        </div>
    {/volist}
</div>
<br>
{$html|raw}
</div>
</body>
</html>